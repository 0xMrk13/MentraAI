/* static/css/agent.css â€” Mentra widget (compact) */
:root{
  --m-bg: rgba(10,14,24,.92);
  --m-border: rgba(255,255,255,.10);
  --m-line: rgba(255,255,255,.08);
  --m-text: rgba(255,255,255,.92);
  --m-muted: rgba(255,255,255,.55);
  --m-accent: rgba(56,189,248,.90);
  --m-w: min(520px, 42vw);
  --m-wmin: 360px;
}

/* Dock push */
body.mentra-dock.mentra-open{ padding-right: max(var(--m-wmin), var(--m-w)); }
@media (max-width:900px){ body.mentra-dock.mentra-open{ padding-right:0; } }

/* Launcher */
.mentra-launcher{
  position:fixed; right:18px; bottom:18px; z-index:4000;
  width:54px; height:54px; border-radius:999px;
  display:grid; place-items:center;
  background:rgba(10,14,22,.78);
  border:1px solid rgba(255,255,255,.16);
  color:#fff;
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  box-shadow: 0 18px 60px rgba(0,0,0,.55), 0 0 0 3px rgba(56,189,248,.10);
  cursor:pointer;
  transition: transform .15s ease, border-color .15s ease, background .15s ease, box-shadow .15s ease;
  isolation:isolate;
}
.mentra-launcher:hover{
  transform:translateY(-2px);
  background:rgba(255,255,255,.04);
  border-color:rgba(56,189,248,.35);
  box-shadow: 0 22px 70px rgba(0,0,0,.60), 0 0 0 4px rgba(56,189,248,.14);
}
.mentra-launcher:focus-visible{ outline:2px solid rgba(56,189,248,.55); outline-offset:4px; }

.mentra-launcher-ico{ width:22px; height:22px; display:block; filter: drop-shadow(0 10px 18px rgba(0,0,0,.35)); }
.mentra-launcher-ico path{ fill: currentColor; }

.mentra-launcher::after{
  content:""; position:absolute; inset:-6px; border-radius:999px; pointer-events:none;
  box-shadow: 0 0 0 0 rgba(56,189,248,.28);
  opacity:.9; animation: mentraPulse 1.8s ease-out infinite;
}
.mentra-launcher.open::after{ animation:none; opacity:0; }
@keyframes mentraPulse{
  0%{ box-shadow:0 0 0 0 rgba(56,189,248,.28); opacity:.85; }
  70%{ box-shadow:0 0 0 14px rgba(56,189,248,0); opacity:0; }
  100%{ box-shadow:0 0 0 0 rgba(56,189,248,0); opacity:0; }
}

/* Panel */
.mentra-panel{
  position:fixed; top:0; right:0; bottom:0; z-index:4001;
  width:max(var(--m-wmin), var(--m-w)); height:100vh;
  border-left:1px solid var(--m-border);
  background:var(--m-bg);
  -webkit-backdrop-filter: blur(14px);
  backdrop-filter: blur(14px);
  box-shadow:-30px 0 90px rgba(0,0,0,.65);
  overflow:hidden;
  display:none; flex-direction:column;
}
.mentra-panel.show{ display:flex; }
@media (max-width:900px){ .mentra-panel{ width:100vw; } }
@media (max-width:520px){ .mentra-launcher{ right:12px; bottom:12px; } }

/* Header */
.mentra-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 14px;
  background: rgba(10,14,24,.98);
  border-bottom:1px solid rgba(255,255,255,.08);
  box-shadow: 0 8px 24px rgba(0,0,0,.35);
}
.mentra-brand-text{
  display:inline-flex; align-items:center; gap:3px;
  font-weight:900; font-size:14px; letter-spacing:-0.02em;
  color:var(--m-text);
}
.mentra-logo-icon{ width:18px; height:18px; display:block; filter: brightness(0) invert(1) contrast(1.4); }

.mentra-close{
  width:34px; height:34px; border-radius:999px;
  border:0; background:transparent;
  color:rgba(255,255,255,.70);
  display:grid; place-items:center;
  cursor:pointer;
  transition: background .15s ease, color .15s ease, transform .15s ease;
}
.mentra-close:hover{ background:rgba(255,255,255,.05); color:rgba(255,255,255,.95); transform:translateY(-1px); }
.mentra-close svg{ width:18px; height:18px; display:block; }

/* Body / scroll */
.mentra-body{
  flex:1 1 auto; padding:8px 14px 14px;
  overflow:auto; overscroll-behavior:contain;
  scrollbar-width:thin; scrollbar-color: rgba(255,255,255,.16) transparent;
}
.mentra-body::-webkit-scrollbar{ width:10px; }
.mentra-body::-webkit-scrollbar-track{ background:transparent; }
.mentra-body::-webkit-scrollbar-thumb{
  background:rgba(255,255,255,.12);
  border-radius:999px;
  border:3px solid transparent;
  background-clip:content-box;
}
.mentra-body::-webkit-scrollbar-thumb:hover{ background:rgba(255,255,255,.18); }

/* Messages */
.mentra-msg{ display:flex; margin:6px 0; animation: mentraFade .25s ease; }
.mentra-user{ justify-content:flex-end; }
.mentra-assistant{ justify-content:flex-start; }

.mentra-bubble{
  max-width:75%;
  padding:10px 12px;
  border-radius:12px;
  background:rgba(255,255,255,.04);
  color:var(--m-text);
  font-size:14px; line-height:1.4;
  white-space:pre-wrap;
  word-break:break-word;
}
.mentra-user .mentra-bubble{ background:rgba(56,189,248,.18); color:#fff; }

@keyframes mentraFade{ from{opacity:0; transform:translateY(6px);} to{opacity:1; transform:translateY(0);} }

/* Footer / composer */
.mentra-footer{
  border-top:1px solid var(--m-line);
  padding:12px 12px 10px;
  background:rgba(0,0,0,.10);
}
.mentra-composer{ position:relative; width:100%; }

.mentra-input{
  width:100%;
  resize:none;
  overflow:hidden;
  min-height:52px;
  max-height:160px;
  line-height:1.4;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.10);
  color:var(--m-text);
  outline:none;
  padding:14px 62px 14px 56px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06), 0 14px 40px rgba(0,0,0,.35);
}
.mentra-input:focus{
  border-color:rgba(56,189,248,.32);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06), 0 0 0 4px rgba(56,189,248,.10), 0 14px 40px rgba(0,0,0,.35);
}

.mentra-attach{
  position:absolute; left:14px; top:50%;
  transform: translateY(-60%);
  width:28px; height:28px;
  border:0; background:transparent;
  color:rgba(255,255,255,.55);
  display:grid; place-items:center;
  cursor:pointer; z-index:3;
  transition: color .14s ease, transform .14s ease;
}
.mentra-attach:hover{ color:rgba(255,255,255,.90); }
.mentra-attach:active{ transform: translateY(-50%) scale(.92); }
.mentra-attach span{ font-size:24px; line-height:1; transform:translateY(-1px); }

.mentra-floating-right{
  position:absolute; right:10px; top:50%;
  transform: translateY(-60%);
  z-index:3;
}
.mentra-iconbtn{
  width:36px; height:36px; border-radius:999px;
  display:grid; place-items:center;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.08);
  color:#fff;
  cursor:pointer;
  transition: background .14s ease, border-color .14s ease;
}
.mentra-iconbtn:hover{ background:rgba(255,255,255,.14); border-color:rgba(255,255,255,.25); }
.mentra-iconbtn:active{ background:rgba(255,255,255,.18); }

.mentra-send svg{ width:16px; height:16px; display:block; stroke:#fff; stroke-width:2.4; }

.mentra-disclaimer{
  margin-top:8px;
  font-size:11px; line-height:1.25;
  color:rgba(255,255,255,.40);
  text-align:center;
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  .mentra-launcher, .mentra-iconbtn, .mentra-close, .mentra-attach{ transition:none !important; }
  .mentra-launcher::after{ animation:none !important; opacity:0 !important; }
}
