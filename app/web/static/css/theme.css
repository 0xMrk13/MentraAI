/* static/css/theme.css */

:root{
  --font-ui: "General Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-display: "General Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

  --bg0:#05070c;
  --bg1:#070b12;

  --border: rgba(255,255,255,.10);
  --line: rgba(255,255,255,.07);

  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.55);

  --accent2: #38bdf8;

  --gold: #f6c34d;
  --silver:#cfd6e6;
  --bronze:#cf8b5a;
}

html, body{ height: 100%; }

html{
  overflow-x: hidden;
  background: var(--bg0);   /* evita bianco fuori dal body */
  color-scheme: dark;       /* UI/scrollbar più dark quando supportato */
}

body{
  overflow-x: hidden;
  margin: 0;

  font-family: var(--font-ui);
  letter-spacing: -0.01em;
  color: var(--text);

  background:
    radial-gradient(900px 520px at 20% 10%, rgba(56,189,248,.10), transparent 70%),
    linear-gradient(180deg, var(--bg0) 0%, var(--bg1) 100%);

  min-height: 100vh;
}


h1,h2,h3,h4,h5,h6,
.navbar,
.table,
.btn,
.dropdown-menu{
  font-family: var(--font-ui);
}

/* Layout shell */
.app-shell{
  max-width: 1180px;
  margin: 0 auto;
  padding: 26px 18px 30px 18px;
}

/* Navbar */
.app-navbar{
  background: rgba(10,14,22,.55);
  border-bottom: 1px solid var(--border);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  position: sticky;
  top: 0;
  z-index: 1030;

  /* avoid clipping children (icons, dropdowns, etc.) */
  overflow: visible;
}

.dropdown-menu { z-index: 2000; }
.dropdown { position: relative; z-index: 2001; }

.nav-actions{
  display:flex;
  align-items:center;
  gap: 10px;
  flex: 0 0 auto;
  justify-content: flex-end;

  /* avoid any accidental clipping in nav area */
  overflow: visible;
}

/* Brand */
.brand{
  display:flex;
  align-items:center;
  gap: 7px;
  text-decoration:none;
}
.brand-logo{
  height: 28px;
  width: auto;
  object-fit: contain;
  filter: invert(1);
  flex-shrink: 0;
  opacity: .92;
  transition: transform .18s ease, opacity .18s ease, filter .18s ease;
}
.navbar-brand:hover .brand-logo{
  transform: translateY(-1px);
  opacity: 1;
  filter: invert(1) drop-shadow(0 12px 28px rgba(56,189,248,.18));
}
.brand-title{
  font-weight: 800;
  letter-spacing: -0.02em;
  font-size: 20px;
  line-height: 1;
  color: var(--text);
}

.muted{ color: var(--muted); }

/* Avatar dropdown button */
.avatar{
  width:34px;
  height:34px;
  border-radius:999px;
  object-fit:cover;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
}
.avatar-btn.dropdown-toggle::after{ display:none !important; }

.avatar-btn{
  display:inline-flex;
  align-items:center;
  gap: 10px;
  padding: 6px;
  border-radius: 14px;
  background: transparent;
  border: 1px solid transparent;
  color: inherit;
  cursor: pointer;
  transition: background .16s ease, border-color .16s ease, transform .16s ease;
}
.avatar-btn:hover{
  background: rgba(255,255,255,.04);
  border-color: rgba(255,255,255,.10);
  transform: translateY(-1px);
}
.avatar-btn:focus-visible{
  outline: 2px solid rgba(56,189,248,.55);
  outline-offset: 3px;
}
.caret{
  width: 10px;
  height: 10px;
  opacity: .75;
  margin-left: 2px;
}

/* Discord login button (FIX: icon not clipped) */
.discord-btn{
  display:inline-flex;
  align-items:center;
  gap: 8px;

  padding: 8px 12px;
  border-radius: 10px;

  background: transparent;
  border: 0;

  color: rgba(255,255,255,.78);
  font-weight: 800;
  font-size: 14px;
  line-height: 1;
  text-decoration:none;

  overflow: visible;
  transition: background .15s ease, color .15s ease, transform .15s ease;
}
.discord-btn:hover{
  background: rgba(255,255,255,.04);
  color:#fff;
  transform: translateY(-1px);
}

/* The real fix: shrink the svg slightly inside its own box */
.discord-icon{
  width: 18px;
  height: 18px;
  display:block;
  flex: 0 0 18px;

  overflow: visible;
  transform: scale(.92) translateZ(0); /* <-- prevents edge clipping */
  transform-origin: center;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
}

/* Dropdown */
.dropdown-menu{
  background: rgba(10,14,22,.98);
  border:1px solid rgba(255,255,255,.12);
  border-radius: 14px;
  padding: 8px;
  box-shadow: 0 16px 50px rgba(0,0,0,.50);
}
.dropdown-item{
  color: rgba(255,255,255,.90);
  border-radius: 12px;
  padding: 9px 10px;
  font-weight: 650;
}
.dropdown-item:hover{
  background: rgba(255,255,255,.06);
  color: #fff;
}
.dropdown-divider{
  border-top:1px solid rgba(255,255,255,.10);
  margin: 8px 6px;
}

.surface{
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.28);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  box-shadow: 0 20px 70px rgba(0,0,0,.50);
  overflow: hidden;
  position: relative; /* necessario */
}

.surface::before{
  content:"";
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.22); /* <-- “film” che blocca il gradiente */
  pointer-events:none;
  z-index: 0;
}

.surface > *{
  position: relative;
  z-index: 1;
}


/* Table */
.table-clean{
  color: rgba(255,255,255,.90) !important;
  background: transparent !important;
  margin: 0 !important;
}
.table-clean th,
.table-clean td{
  background: transparent !important;
  border-top: 0 !important;
  padding-top: 16px;
  padding-bottom: 16px;
  vertical-align: middle;
}
.table-clean thead th{
  color: rgba(255,255,255,.45) !important;
  font-weight: 850;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: .10em;
  border-bottom: 1px solid var(--line) !important;
  padding-top: 14px;
  padding-bottom: 14px;
}
.table-clean > :not(caption) > * > *{
  border-bottom: none !important;
}
.table-clean.table-hover > tbody > tr:hover > *{
  background: rgba(255,255,255,.02) !important;
}
.table-clean tbody td,
.table-clean tbody th{ color: rgba(255,255,255,.90) !important; }
.table-clean tbody td *{ color: inherit !important; }
.table-clean a{ color: inherit !important; text-decoration: none; }
.table-clean a:hover{ color: rgba(255,255,255,.96) !important; text-decoration: none; }

.row-you > *{
  background: rgba(56,189,248,.12) !important;
  color: rgba(255,255,255,.96) !important;
  border-bottom-color: rgba(56,189,248,.25) !important;
}

/* Skeleton */
.skeleton{ padding: 6px 18px 6px 18px; }
.skeleton .srow{
  display:flex;
  align-items:center;
  gap:14px;
  padding: 16px 0;
  border-top: 1px solid rgba(255,255,255,.06);
}
.skeleton .sbox{
  height: 14px;
  border-radius: 10px;
  background: rgba(255,255,255,.06);
  position: relative;
  overflow: hidden;
}
.skeleton .sbox::after{
  content:"";
  position:absolute;
  top:0; left:-40%;
  height:100%; width:40%;
  background: rgba(255,255,255,.10);
  filter: blur(6px);
  animation: shimmer 1.1s infinite;
}
@keyframes shimmer{
  0%{ transform: translateX(0); }
  100%{ transform: translateX(300%); }
}
.w-40{ width:40px; }
.w-90{ width:90px; }
.w-140{ width:140px; }
.w-260{ width:260px; }

/* Pagination */
.pager{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap: 10px;
  padding: 12px 14px 14px 14px;
  border-top: 1px solid rgba(255,255,255,.06);
}
.pager .pagination{ margin:0; gap: 8px; }
.pager .page-link{
  background: transparent !important;
  color: rgba(255,255,255,.55) !important;
  border: none !important;
  border-radius: 8px !important;
  padding: 8px 10px !important;
  font-weight: 750;
  font-size: 13px;
  line-height: 1;
  box-shadow: none !important;
  transition: color .15s ease, background .15s ease;
}

.pager .page-link:hover{
  color: rgba(255,255,255,.90) !important;
  background: rgba(255,255,255,.05) !important;
}

.pager .page-item.active .page-link{
  color: #fff !important;
  background: rgba(56,189,248,.14) !important;
  border: 1px solid rgba(56,189,248,.35) !important;
}

.pager .page-item.disabled .page-link{
  opacity: .25;
  pointer-events: none;
}


/* Footer */
footer{
  color: rgba(255,255,255,.38);
  font-size:.85rem;
  text-align:center;
  padding: 24px 0 6px 0;
}

/* Agent floating button */
.agent-fab{
  position: fixed;
  right: 18px;
  bottom: 18px;
  z-index: 3000;

  display: inline-flex;
  align-items: center;
  gap: 10px;

  height: 44px;
  padding: 0 14px;
  border-radius: 14px;

  background: rgba(10,14,22,.75);
  border: 1px solid rgba(255,255,255,.14);
  color: rgba(255,255,255,.92);
  text-decoration: none;

  font-family: var(--font-ui);
  font-weight: 800;
  letter-spacing: -0.01em;

  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);

  box-shadow: 0 18px 60px rgba(0,0,0,.55);
  transition: transform .15s ease, border-color .15s ease, background .15s ease;
}
.agent-fab:hover{
  transform: translateY(-2px);
  border-color: rgba(56,189,248,.45);
  background: rgba(255,255,255,.04);
}
.agent-dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(56,189,248,.90);
  box-shadow: 0 0 0 3px rgba(56,189,248,.16);
}
html, body{
  width: 100%;
  overflow-x: hidden;
}

img, svg, video, canvas{
  max-width: 100%;
  height: auto;
}
html, body{
  height: 100%;
}
/* ===== Grid background + trails (clean) ===== */
.gridBackground{
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  transform: translateZ(0);

  background-image:
    linear-gradient(90deg, #98989f0a 1px, transparent 0),
    linear-gradient(0deg,  #98989f0a 1px, transparent 0);
  background-size: 4rem 4rem;
}

.trail{
  position: absolute;
  pointer-events: none;
  border-radius: 2px;
  z-index: 1;
  will-change: transform, opacity;
}

/* ---------- Horizontal trails (RIGHT) ---------- */
.trailH{
  height: 1px;
  left: 0; /* usiamo translateX, non left */
  transform: translateX(-160px); /* default, verrà sovrascritto per ogni trail */

  background: linear-gradient(
    90deg,
    transparent,
    rgba(200,200,205,.08) 20%,
    rgba(200,200,205,.08) 80%,
    rgba(255,255,255,.45)
  );

  animation-name: trailH;
  animation-iteration-count: infinite;
}

/* Ogni trail: dimensioni + timing (UNICO BLOCCO) */
.trailH1{
  top: 12rem;
  width: 60px;
  transform: translateX(-60px);
  box-shadow: 0 0 18px rgba(56,189,248,.10);

  animation-duration: 7.4s;
  animation-delay: -2.3s;
  animation-timing-function: cubic-bezier(.10,.85,.20,1);
}

.trailH2{
  top: 28rem;
  width: 85px;
  transform: translateX(-85px);
  box-shadow: 0 0 28px rgba(56,189,248,.14);

  animation-duration: 9.1s;
  animation-delay: -5.7s;
  animation-timing-function: cubic-bezier(.15,.90,.25,1);
}

.trailH3{
  top: 44rem;
  width: 50px;
  transform: translateX(-50px);
  box-shadow: 0 0 16px rgba(56,189,248,.10);

  animation-duration: 8.2s;
  animation-delay: -1.9s;
  animation-timing-function: cubic-bezier(.08,.88,.22,1);
}

/* ---------- Vertical trails (DOWN) ---------- */
.trailV{
  width: 2px;
  top: 0;
  transform: translateY(-140px); /* default */

  background: linear-gradient(
    180deg,
    transparent,
    rgba(255,255,255,.18) 20%,
    rgba(255,255,255,.18) 80%,
    rgba(255,255,255,.55)
  );

  box-shadow: 0 0 45px rgba(255,246,68,.07);

  animation-name: trailV;
  animation-iteration-count: infinite;
}

.trailV1{
  left: 20rem;
  height: 70px;
  transform: translateY(-70px);
  animation-duration: 9.6s;
  animation-delay: -3.2s;
  animation-timing-function: cubic-bezier(.12,.78,.22,1);
}

.trailV2{
  left: 56rem;
  height: 95px;
  transform: translateY(-95px);
  animation-duration: 11.2s;
  animation-delay: -6.1s;
  animation-timing-function: cubic-bezier(.10,.82,.24,1);
}

.trailV3{
  left: 80rem;
  height: 60px;
  transform: translateY(-60px);
  animation-duration: 8.4s;
  animation-delay: -2.6s;
  animation-timing-function: cubic-bezier(.14,.80,.20,1);
}

/* ---------- Keyframes (transform-only) ---------- */
@keyframes trailH{
  0%   { opacity:0; transform: translateX(var(--start-x, -120px)); }
  8%   { opacity:.6; }
  15%  { opacity:1; }
  45%  { transform: translateX(70vw); opacity:1; }  /* veloce all’inizio */
  100% { transform: translateX(110vw); opacity:0; } /* poi rallenta */
}

@keyframes trailV{
  0%   { opacity:0; transform: translateY(var(--start-y, -120px)); }
  8%   { opacity:.6; }
  15%  { opacity:1; }
  80%  { opacity:1; }
  100% { transform: translateY(110vh); opacity:0; }
}

/* Wrapper (come già avevi) */
.page-bg{
  position: relative;
  min-height: 100vh;
  overflow: hidden;
}
.page-content{
  position: relative;
  z-index: 2;
}
.gridBackground{
  -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,.85) 35%, rgba(0,0,0,0) 100%);
  mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,.85) 35%, rgba(0,0,0,0) 100%);
}
/* Navbar main links */
.nav-links .nav-link{
  color: rgba(255,255,255,.88) !important;
  font-weight: 750;
  transition: color .14s ease, opacity .14s ease;
}

.nav-links .nav-link:hover{
  color: #ffffff !important;
  opacity: .9;
}

.nav-links .nav-link.active{
  color: #ffffff !important;
}
